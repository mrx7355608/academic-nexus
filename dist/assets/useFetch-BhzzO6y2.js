import{r as e}from"./index-DnEmFAGo.js";function E(r,s=!1){const[c,n]=e.useState(!0),[l,o]=e.useState(null),[f,u]=e.useState("");return e.useEffect(()=>{const a={};return s&&(a.credentials="include"),fetch(r,a).then(async t=>{if(t.ok)return t.json();const i=await t.json();throw new Error(i.error)}).then(({data:t})=>o(t)).catch(t=>u(t.message)).finally(()=>n(!1)),()=>{n(!0),u(""),o(null)}},[r,s]),{loading:c,result:l,error:f}}export{E as u};
