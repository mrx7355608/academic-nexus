import{q as P,N as y,C as A,s as T,z as v,r as a,j as e,F as o,S as m,T as C,v as E,I as F,B as I}from"./index-doEF5yPY.js";import{F as w,S as M,U,P as z}from"./UploadType-ClOlcCS3.js";import{P as B}from"./PageHeading-3ff6ETeT.js";import{g as k,e as q}from"./assessment.services-Cb0npOB5.js";import"./index-J-Qndv_Y.js";import"./chunk-Z3VR2BFQ-BKWIcuHr.js";import"./chunk-AXLEE3EK-D0RK9Nhg.js";import"./chunk-ROURZMX4-Cb0dCQiP.js";import"./chunk-RDF2AYID-BrF2OHG9.js";import"./index-DdrsuNi1.js";import"./chunk-W7WUSNWJ-CrgvWd6T.js";function V(){const{colorMode:p}=P(),{id:l}=y();A(s=>s.user);const d=T(),{showErrorToast:x,showSuccessToast:j}=v(),[f,c]=a.useState(!1),[t,n]=a.useState({title:"",subject:"",isPublic:!0,type:"quiz"}),[u,g]=a.useState(""),[h,b]=a.useState(!0),r=a.useCallback(s=>{n(s)},[]);return a.useEffect(()=>{k(l).then(({data:s,error:i})=>{i?g(i):n({title:s.title,subject:s.subject,isPublic:s.isPublic,type:s.type}),b(!1)})},[]),e.jsxs(e.Fragment,{children:[e.jsx(o,{alignItems:"center",gap:"5",mb:12,children:e.jsx(B,{title:"Edit Assessment"})}),h?e.jsx(o,{alignItems:"center",justifyContent:"center",h:"200px",children:e.jsx(m,{})}):u?e.jsx(C,{color:"red.400",children:u}):e.jsxs(o,{flexDirection:"column",alignItems:"start",justifyContent:"center",gap:9,maxW:"500px",mx:"auto",children:[e.jsxs(E,{w:"full",children:[e.jsx(w,{children:"Title:"}),e.jsx(F,{placeholder:"Title",bg:p==="light"?"#d7d7d7":"gray.700",value:t.title,onChange:s=>{n({...t,title:s.target.value})}})]}),e.jsx(M,{setAssessment:r,defaultSubject:t.subject}),e.jsx(U,{setAssessment:r,defaultType:t.type}),e.jsx(z,{setAssessment:r,defaultIsPublic:t.isPublic}),e.jsx(I,{w:"full",colorScheme:"purple",onClick:S,children:f?e.jsx(m,{}):"Save"})]})]});async function S(){c(!0);const{data:s,error:i}=await q(l,t);s?(j("Assessment has been updated"),d("/")):x(i),c(!1)}}export{V as default};
