import{r as e}from"./index-doEF5yPY.js";function g(r,s=!1){const[c,n]=e.useState(!0),[l,o]=e.useState(null),[f,u]=e.useState("");return e.useEffect(()=>{const i=`${r}`,a={};return s&&(a.credentials="include"),fetch(i,a).then(async t=>{if(t.ok)return t.json();const h=await t.json();throw new Error(h.error)}).then(({data:t})=>o(t)).catch(t=>u(t.message)).finally(()=>n(!1)),()=>{n(!0),u(""),o(null)}},[r,s]),{loading:c,result:l,error:f}}export{g as u};
